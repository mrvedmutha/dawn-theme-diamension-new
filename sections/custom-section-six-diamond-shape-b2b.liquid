{{ 'section-six-diamond-shape-b2b.css' | asset_url | stylesheet_tag }}

<div class="custom-section-six-diamond-shape-b2b">
  <div class="custom-section-six-diamond-shape-b2b__container">
    {%- comment -%} Top Section: Heading + CTA {%- endcomment -%}
    <div class="custom-section-six-diamond-shape-b2b__header">
      {%- if section.settings.heading != blank -%}
        <h2 class="custom-section-six-diamond-shape-b2b__heading">
          {{ section.settings.heading }}
        </h2>
      {%- endif -%}

      {%- if section.settings.cta_text != blank -%}
        <a
          href="{{ section.settings.cta_link | default: '#' }}"
          class="custom-section-six-diamond-shape-b2b__cta"
        >
          {{ section.settings.cta_text }}
        </a>
      {%- endif -%}
    </div>

    {%- comment -%} Bottom Section: Diamond Shapes + Certificate {%- endcomment -%}
    <div class="custom-section-six-diamond-shape-b2b__content">
      {%- comment -%} Left Side: Diamonds 1, 2, 3 {%- endcomment -%}
      <div class="custom-section-six-diamond-shape-b2b__diamonds custom-section-six-diamond-shape-b2b__diamonds--left">
        {%- assign left_count = 0 -%}
        {%- for block in section.blocks -%}
          {%- if left_count < 3 -%}
            <div
              class="custom-section-six-diamond-shape-b2b__diamond-item"
              {{ block.shopify_attributes }}
            >
              {%- if block.settings.diamond_image != blank -%}
                {{
                  block.settings.diamond_image
                  | image_url: width: 300
                  | image_tag:
                    loading: 'lazy',
                    class: 'custom-section-six-diamond-shape-b2b__diamond-image',
                    alt: block.settings.diamond_text
                }}
              {%- else -%}
                <div class="custom-section-six-diamond-shape-b2b__diamond-placeholder">
                  {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
                </div>
              {%- endif -%}

              {%- if block.settings.diamond_text != blank -%}
                <p class="custom-section-six-diamond-shape-b2b__diamond-text">
                  {{ block.settings.diamond_text }}
                </p>
              {%- endif -%}
            </div>
            {%- assign left_count = left_count | plus: 1 -%}
          {%- endif -%}
        {%- endfor -%}
      </div>

      {%- comment -%} Center: Certificate Card {%- endcomment -%}
      <div class="custom-section-six-diamond-shape-b2b__certificate">
        <div class="custom-section-six-diamond-shape-b2b__certificate-inner">
          {%- if section.settings.certificate_image != blank -%}
            {{
              section.settings.certificate_image
              | image_url: width: 600
              | image_tag:
                loading: 'lazy',
                class: 'custom-section-six-diamond-shape-b2b__certificate-image',
                alt: 'Certificate'
            }}
          {%- else -%}
            <div class="custom-section-six-diamond-shape-b2b__certificate-placeholder">
              {{ 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg' }}
            </div>
          {%- endif -%}
        </div>
      </div>

      {%- comment -%} Right Side: Diamonds 4, 5, 6 {%- endcomment -%}
      <div class="custom-section-six-diamond-shape-b2b__diamonds custom-section-six-diamond-shape-b2b__diamonds--right">
        {%- assign right_count = 0 -%}
        {%- assign skip_count = 0 -%}
        {%- for block in section.blocks -%}
          {%- if skip_count >= 3 and right_count < 3 -%}
            <div
              class="custom-section-six-diamond-shape-b2b__diamond-item"
              {{ block.shopify_attributes }}
            >
              {%- if block.settings.diamond_image != blank -%}
                {{
                  block.settings.diamond_image
                  | image_url: width: 300
                  | image_tag:
                    loading: 'lazy',
                    class: 'custom-section-six-diamond-shape-b2b__diamond-image',
                    alt: block.settings.diamond_text
                }}
              {%- else -%}
                <div class="custom-section-six-diamond-shape-b2b__diamond-placeholder">
                  {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
                </div>
              {%- endif -%}

              {%- if block.settings.diamond_text != blank -%}
                <p class="custom-section-six-diamond-shape-b2b__diamond-text">
                  {{ block.settings.diamond_text }}
                </p>
              {%- endif -%}
            </div>
            {%- assign right_count = right_count | plus: 1 -%}
          {%- endif -%}
          {%- assign skip_count = skip_count | plus: 1 -%}
        {%- endfor -%}
      </div>
    </div>
  </div>
</div>

<script src="{{ 'section-six-diamond-shape-b2b.js' | asset_url }}" defer></script>

{% schema %}
{
  "name": "Six Diamond Shape B2B",
  "tag": "section",
  "class": "section",
  "max_blocks": 6,
  "settings": [
    {
      "type": "header",
      "content": "Heading Section"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Comprehensive Range of Precision-Cut CVD Diamonds."
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "CTA Link Text",
      "default": "Login to see all shapes"
    },
    {
      "type": "url",
      "id": "cta_link",
      "label": "CTA Button Link",
      "info": "Leave empty to use # as default"
    },
    {
      "type": "header",
      "content": "Certificate Card"
    },
    {
      "type": "image_picker",
      "id": "certificate_image",
      "label": "Certificate Image",
      "info": "Recommended size: 600px × 800px (maintains aspect ratio from design)"
    }
  ],
  "blocks": [
    {
      "type": "diamond_shape",
      "name": "Diamond Shape",
      "limit": 6,
      "settings": [
        {
          "type": "image_picker",
          "id": "diamond_image",
          "label": "Diamond Shape Image",
          "info": "Recommended size: 300px × 300px (displayed at 150px × 150px)"
        },
        {
          "type": "text",
          "id": "diamond_text",
          "label": "Diamond Shape Name",
          "default": "Round"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Six Diamond Shape B2B",
      "blocks": [
        {
          "type": "diamond_shape",
          "settings": {
            "diamond_text": "Round"
          }
        },
        {
          "type": "diamond_shape",
          "settings": {
            "diamond_text": "Cushion"
          }
        },
        {
          "type": "diamond_shape",
          "settings": {
            "diamond_text": "Oval"
          }
        },
        {
          "type": "diamond_shape",
          "settings": {
            "diamond_text": "Emerald"
          }
        },
        {
          "type": "diamond_shape",
          "settings": {
            "diamond_text": "Radiant"
          }
        },
        {
          "type": "diamond_shape",
          "settings": {
            "diamond_text": "Princess"
          }
        }
      ]
    }
  ]
}
{% endschema %}
